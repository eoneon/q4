<%= form_with model: item, url: invoice_item_path(invoice, item), id: "edit-item" do |f| %>
  <div class="form">
    <div class="card bg-gray-d p-0 mb-1">
      <%= number_field_tag "item[product_id]", @item.product.try(:id), class: "collapse" %>

      <div class="form-row pl-1 ml-0 mb-2">

        <div class="col-3 pl-4 pt-2">
          <div class="input-group input-group-sm">
            <%= render "item_fields/label", label: 'artist' %>
            <%= f.collection_select :artist_id, Artist.all, :id, :artist_name, {include_blank: true, selected: item.artist.try(:id)}, class: "#{boot_classes(:input, 'field-param')}" %>
          </div>
        </div>

        <div class="col-4 pt-2">
          <div class="input-group input-group-sm">
            <%= render 'items/title_toggle' %>
            <%= render 'items/title', titles: titles %>
            <%= f.text_field :title, class: boot_classes(:input, 'default-show', 'show', 'title-toggle', 'field-param'), id: 'title-text' %>
          </div>
        </div>

        <div class="col-2 pt-2">
          <div class="input-group input-group-sm">
            <%= render "item_fields/label", label: 'retail' %>
            <%= f.number_field :retail, class: boot_classes(:input, 'field-param') %>
          </div>
        </div>

        <div class="col-2 pt-2 pr-3">
          <div class="input-group input-group-sm">
            <%= render "item_fields/label", label: 'qty' %>
            <%= f.number_field :qty, class: boot_classes(:input, 'field-param') %>
          </div>
        </div>
      </div>
    </div>
  </div>
<% end %>
